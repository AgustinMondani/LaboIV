<div class="encuesta-container">
  <h1 class="titulo">Encuesta</h1>
</div>

<div *ngIf="mensaje" class="mensaje" [ngClass]="{ 'error': esError, 'exito': !esError }">
  {{ mensaje }}
</div>

<div class="encuesta-container">
  <form [formGroup]="encuestaForm" (ngSubmit)="enviar()" class="formulario">

    <label>Nombre y apellido</label>
    <input type="text" formControlName="nombre" />
    <div *ngIf="nombre?.invalid && nombre?.touched" class="error">
      El nombre es obligatorio.
    </div>

    <label>Edad</label>
    <input type="number" formControlName="edad" min="18" max="99" />
    <div *ngIf="edad?.invalid && edad?.touched" class="error">
      La edad debe ser entre 18 y 99.
    </div>

    <label>Teléfono</label>
    <input type="text" formControlName="telefono" maxlength="10" placeholder="Ej: 1123456789" />
    <div *ngIf="telefono?.invalid && telefono?.touched" class="error">
      El teléfono debe tener exactamente 10 números.
    </div>

    <label>
      <input type="checkbox" formControlName="gustoJuego" />
      ¿Te gustó el juego creado?
    </label>

    <label>¿Qué tan divertido te pareció?</label>
    <select formControlName="diversion">
      <option value="">Seleccioná una opción</option>
      <option value="aburrido">Aburrido</option>
      <option value="no esta mal">No está mal</option>
      <option value="muy divertido">Muy divertido</option>
    </select>

    <label>Dificultad del juego (1 - 10)</label>
    <input
      type="range"
      formControlName="dificultad"
      min="1"
      max="10"
      step="1"
      (input)="rangoValor = $any($event.target).value"
    />
    <div class="rango-valor">Valor seleccionado: {{ rangoValor || 5 }}</div>

    <button type="submit" [disabled]="encuestaForm.invalid" class="btn-enviar">Enviar</button>
  </form>
</div>
