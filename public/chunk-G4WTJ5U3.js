import{b as y,c as O,d as f}from"./chunk-AKZVERSC.js";import{a as A}from"./chunk-3O7R6LMN.js";import{Ab as l,Ba as s,Cb as u,Fa as m,Ma as p,Oa as i,Pa as c,Qa as d,Ta as x,Ua as g,Va as k,W as N,X as I,Za as a,_a as w,sa as v,u as _,wa as r}from"./chunk-OBJE3FPQ.js";import{h as C}from"./chunk-FK42CRUA.js";function E(n,t){if(n&1){let e=x();i(0,"div")(1,"button",3),g("click",function(){N(e);let h=k();return I(h.backHome())}),a(2,"Home"),c()()}}var b=class n{constructor(t,e){this.supabase=t;this.router=e}username=null;isHome=!0;ngOnInit(){return C(this,null,function*(){this.username=yield this.supabase.getSessionUser(),this.router.events.subscribe(()=>{this.isHome=this.router.url==="/home"})})}logout(){this.supabase.logout().then(()=>this.router.navigate(["/login"])).catch(t=>console.error("Error al cerrar sesi\xF3n:",t))}backHome(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||n)(r(A),r(f))};static \u0275cmp=s({type:n,selectors:[["app-navbar"]],decls:10,vars:2,consts:[[1,"navbar"],[1,"navbar-content"],[4,"ngIf"],[1,"btn-logout",3,"click"]],template:function(e,o){e&1&&(i(0,"nav",0)(1,"div",1)(2,"span"),a(3,"Bienvenido, "),i(4,"strong"),a(5),c()()(),m(6,E,3,0,"div",2),i(7,"div")(8,"button",3),g("click",function(){return o.logout()}),a(9,"Cerrar sesi\xF3n"),c()()()),e&2&&(v(5),w(o.username),v(),p("ngIf",!o.isHome))},dependencies:[u,l],styles:[".navbar[_ngcontent-%COMP%]{max-height:6vh;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;color:#f0f8ff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);box-shadow:0 0 10px #0006;background-color:#203a43;font-family:Times New Roman,Times,serif}.btn-logout[_ngcontent-%COMP%]{background:#00c6ff;border:none;padding:.5rem 1rem;border-radius:.5rem;color:#000;font-weight:700;cursor:pointer;transition:background .3s ease}.btn-logout[_ngcontent-%COMP%]:hover{background:#0072ff}"]})};function H(n,t){n&1&&d(0,"app-navbar")}var M=class n{constructor(t){this.router=t}title="SalaDeJuegos";showNavbar=!0;ngOnInit(){this.router.events.pipe(_(t=>t instanceof y)).subscribe(t=>{let e=t.urlAfterRedirects;this.showNavbar=!(e==="/login"||e==="/registro")})}static \u0275fac=function(e){return new(e||n)(r(f))};static \u0275cmp=s({type:n,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(e,o){e&1&&(m(0,H,1,0,"app-navbar",0),d(1,"router-outlet")),e&2&&p("ngIf",o.showNavbar)},dependencies:[O,b,u,l],encapsulation:2})};export{M as a};
