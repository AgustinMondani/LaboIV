import{a as S,b as M,c as a,d as y,e as F,h as O,i as P,j as N,k as j,l as k,m as I,n as V,o as w,p as A,q as T,s as D,t as G,v as q}from"./chunk-VFF2UD4S.js";import{a as E}from"./chunk-3O7R6LMN.js";import{$a as p,Ab as _,Ba as b,Cb as h,Fa as m,Ma as c,Oa as e,Pa as t,Qa as u,Ua as f,Va as v,Za as o,fb as C,sa as d,wa as s,yb as x}from"./chunk-OBJE3FPQ.js";import"./chunk-LJ5XHLMQ.js";import{h as g}from"./chunk-FK42CRUA.js";var L=(r,l)=>({error:r,exito:l});function R(r,l){if(r&1&&(e(0,"div",17),o(1),t()),r&2){let i=v();c("ngClass",C(2,L,i.esError,!i.esError)),d(),p(" ",i.mensaje,`
`)}}function U(r,l){r&1&&(e(0,"div",18),o(1," El nombre es obligatorio. "),t())}function $(r,l){r&1&&(e(0,"div",18),o(1," La edad debe ser entre 18 y 99. "),t())}function Q(r,l){r&1&&(e(0,"div",18),o(1," El tel\xE9fono debe tener exactamente 10 n\xFAmeros. "),t())}var B=class r{constructor(l,i){this.fb=l;this.supabaseService=i;this.encuestaForm=this.fb.group({nombre:["",a.required],edad:["",[a.required,a.min(18),a.max(99)]],telefono:["",[a.required,a.pattern("^[0-9]{10}$")]],gustoJuego:[],diversion:["",a.required],dificultad:[5,[a.required,a.min(1),a.max(10)]]})}encuestaForm;enviado=!1;rangoValor=5;mensaje=null;esError=!1;get nombre(){return this.encuestaForm.get("nombre")}get edad(){return this.encuestaForm.get("edad")}get telefono(){return this.encuestaForm.get("telefono")}get gustoJuego(){return this.encuestaForm.get("gustoJuego")}get diversion(){return this.encuestaForm.get("diversion")}get dificultad(){return this.encuestaForm.get("dificultad")}enviar(){return g(this,null,function*(){if(this.enviado=!0,this.mensaje=null,this.encuestaForm.invalid)return;let l=this.encuestaForm.value,i=yield this.supabaseService.guardarEncuesta(l);i?(this.mensaje=`${i}`,this.esError=!0):(this.mensaje="Encuesta enviada con \xE9xito.",this.esError=!1,this.encuestaForm.reset(),this.enviado=!1)})}static \u0275fac=function(i){return new(i||r)(s(G),s(E))};static \u0275cmp=b({type:r,selectors:[["app-encuesta"]],decls:39,vars:7,consts:[[1,"encuesta-container"],[1,"titulo"],["class","mensaje",3,"ngClass",4,"ngIf"],[1,"formulario",3,"ngSubmit","formGroup"],["type","text","formControlName","nombre"],["class","error",4,"ngIf"],["type","number","formControlName","edad","min","18","max","99"],["type","text","formControlName","telefono","maxlength","10","placeholder","Ej: 1123456789"],["type","checkbox","formControlName","gustoJuego"],["formControlName","diversion"],["value",""],["value","aburrido"],["value","no esta mal"],["value","muy divertido"],["type","range","formControlName","dificultad","min","1","max","10","step","1",3,"input"],[1,"rango-valor"],["type","submit",1,"btn-enviar",3,"disabled"],[1,"mensaje",3,"ngClass"],[1,"error"]],template:function(i,n){i&1&&(e(0,"div",0)(1,"h1",1),o(2,"Encuesta"),t()(),m(3,R,2,5,"div",2),e(4,"div",0)(5,"form",3),f("ngSubmit",function(){return n.enviar()}),e(6,"label"),o(7,"Nombre y apellido"),t(),u(8,"input",4),m(9,U,2,0,"div",5),e(10,"label"),o(11,"Edad"),t(),u(12,"input",6),m(13,$,2,0,"div",5),e(14,"label"),o(15,"Tel\xE9fono"),t(),u(16,"input",7),m(17,Q,2,0,"div",5),e(18,"label"),u(19,"input",8),o(20," \xBFTe gust\xF3 el juego creado? "),t(),e(21,"label"),o(22,"\xBFQu\xE9 tan divertido te pareci\xF3?"),t(),e(23,"select",9)(24,"option",10),o(25,"Seleccion\xE1 una opci\xF3n"),t(),e(26,"option",11),o(27,"Aburrido"),t(),e(28,"option",12),o(29,"No est\xE1 mal"),t(),e(30,"option",13),o(31,"Muy divertido"),t()(),e(32,"label"),o(33,"Dificultad del juego (1 - 10)"),t(),e(34,"input",14),f("input",function(z){return n.rangoValor=z.target.value}),t(),e(35,"div",15),o(36),t(),e(37,"button",16),o(38,"Enviar"),t()()()),i&2&&(d(3),c("ngIf",n.mensaje),d(2),c("formGroup",n.encuestaForm),d(4),c("ngIf",(n.nombre==null?null:n.nombre.invalid)&&(n.nombre==null?null:n.nombre.touched)),d(4),c("ngIf",(n.edad==null?null:n.edad.invalid)&&(n.edad==null?null:n.edad.touched)),d(4),c("ngIf",(n.telefono==null?null:n.telefono.invalid)&&(n.telefono==null?null:n.telefono.touched)),d(19),p("Valor seleccionado: ",n.rangoValor||5,""),d(),c("disabled",n.encuestaForm.invalid))},dependencies:[q,O,V,w,M,P,N,S,I,y,F,D,T,A,j,k,h,x,_],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:94vh;font-family:Segoe UI,sans-serif;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);color:#fff}.titulo[_ngcontent-%COMP%]{font-size:2.5rem;color:#00c6ff;margin-bottom:2rem;text-shadow:0 0 12px rgba(0,198,255,.6)}.encuesta-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem}.formulario[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);padding:2rem;border-radius:1rem;box-shadow:0 0 20px #00c6ff4d;max-width:600px;width:100%;display:flex;flex-direction:column;gap:1rem;font-family:Segoe UI,sans-serif;color:#fff}.formulario[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#00c6ff}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #00c6ff;border-radius:5px;background-color:#ffffff0d;color:#fff}.formulario[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:.5rem;accent-color:#00c6ff}.error[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.85rem}.btn-enviar[_ngcontent-%COMP%]{background-color:#00c6ff;color:#fff;padding:.75rem;border:none;border-radius:.5rem;font-weight:700;cursor:pointer;transition:background-color .3s ease}.btn-enviar[_ngcontent-%COMP%]:disabled{background-color:#666;cursor:not-allowed}.btn-enviar[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#009fd4}.rango-valor[_ngcontent-%COMP%]{color:#00c6ff;margin-bottom:1rem;font-weight:700;text-align:center}.formulario[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid #00c6ff;background-color:#ffffff0d;color:#fff}select[_ngcontent-%COMP%]{background-color:#222;color:#eee;padding:.5rem;border-radius:5px;border:1px solid #00c6ff;appearance:none}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#222;color:#eee}.mensaje[_ngcontent-%COMP%]{margin:10px auto;width:500px;padding:10px;border-radius:8px;text-align:center;font-weight:700;font-size:1rem}.exito[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}"]})};export{B as EncuestaComponent};
