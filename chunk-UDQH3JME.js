import{a as S,b as M,c as u,d as y,e as F,h as O,i as P,j as N,k,l as I,m as j,n as V,o as w,p as A,q as T,t as J,v as D}from"./chunk-GN3DSZMQ.js";import{a as E}from"./chunk-2QAIXTRJ.js";import{Bb as h,Ca as v,Db as x,Ga as s,Na as d,Pa as t,Qa as n,Ra as c,Va as f,Wa as b,_a as o,ab as p,gb as C,ta as l,xa as m,zb as _}from"./chunk-4LKR36O3.js";import"./chunk-LJ5XHLMQ.js";import{h as g}from"./chunk-FK42CRUA.js";var z=(i,a)=>({error:i,exito:a});function R(i,a){if(i&1&&(t(0,"div",16),o(1),n()),i&2){let r=b();d("ngClass",C(2,z,r.esError,!r.esError)),l(),p(" ",r.mensaje,`
`)}}function U(i,a){i&1&&(t(0,"div",17),o(1," El nombre es obligatorio. "),n())}function L(i,a){i&1&&(t(0,"div",17),o(1," La edad debe ser entre 0 y 99. "),n())}function Q(i,a){i&1&&(t(0,"div",17),o(1," Esta respuesta es obligatoria. "),n())}function $(i,a){i&1&&(t(0,"div",17),o(1," Por favor eleg\xED una opci\xF3n. "),n())}var G=class i{constructor(a,r){this.fb=a;this.supabaseService=r;this.encuestaForm=this.fb.group({nombre:["",u.required],edad:["",[u.required,u.min(0),u.max(99)]],gustoJuego:[],diversion:["",u.required],dificultad:[5,[u.required,u.min(1),u.max(10)]]})}encuestaForm;enviado=!1;rangoValor=5;mensaje=null;esError=!1;get nombre(){return this.encuestaForm.get("nombre")}get edad(){return this.encuestaForm.get("edad")}get gustoJuego(){return this.encuestaForm.get("gustoJuego")}get diversion(){return this.encuestaForm.get("diversion")}get dificultad(){return this.encuestaForm.get("dificultad")}enviar(){return g(this,null,function*(){if(this.enviado=!0,this.mensaje=null,this.encuestaForm.invalid)return;let a=this.encuestaForm.value,r=yield this.supabaseService.guardarEncuesta(a);r?(this.mensaje=`${r}`,this.esError=!0):(this.mensaje="Encuesta enviada con \xE9xito.",this.esError=!1,this.encuestaForm.reset(),this.enviado=!1)})}static \u0275fac=function(r){return new(r||i)(m(J),m(E))};static \u0275cmp=v({type:i,selectors:[["app-encuesta"]],decls:37,vars:8,consts:[[1,"encuesta-container"],[1,"titulo"],["class","mensaje",3,"ngClass",4,"ngIf"],[1,"formulario",3,"ngSubmit","formGroup"],["type","text","formControlName","nombre"],["class","error",4,"ngIf"],["type","number","formControlName","edad","min","0","max","99"],["type","checkbox","formControlName","gustoJuego"],["formControlName","diversion"],["value",""],["value","aburrido"],["value","no esta mal"],["value","muy divertido"],["type","range","formControlName","dificultad","min","1","max","10","step","1",3,"input"],[1,"rango-valor"],["type","submit",1,"btn-enviar",3,"disabled"],[1,"mensaje",3,"ngClass"],[1,"error"]],template:function(r,e){r&1&&(t(0,"div",0)(1,"h1",1),o(2,"Encuesta"),n()(),s(3,R,2,5,"div",2),t(4,"div",0)(5,"form",3),f("ngSubmit",function(){return e.enviar()}),t(6,"label"),o(7,"Nombre y apellido"),n(),c(8,"input",4),s(9,U,2,0,"div",5),t(10,"label"),o(11,"Edad"),n(),c(12,"input",6),s(13,L,2,0,"div",5),t(14,"label"),c(15,"input",7),o(16," \xBFTe gust\xF3 el juego creado? "),n(),s(17,Q,2,0,"div",5),t(18,"label"),o(19,"\xBFQu\xE9 tan divertido te pareci\xF3?"),n(),t(20,"select",8)(21,"option",9),o(22,"Seleccion\xE1 una opci\xF3n"),n(),t(23,"option",10),o(24,"Aburrido"),n(),t(25,"option",11),o(26,"No est\xE1 mal"),n(),t(27,"option",12),o(28,"Muy divertido"),n()(),s(29,$,2,0,"div",5),t(30,"label"),o(31,"Dificultad del juego (1 - 10)"),n(),t(32,"input",13),f("input",function(q){return e.rangoValor=q.target.value}),n(),t(33,"div",14),o(34),n(),t(35,"button",15),o(36,"Enviar"),n()()()),r&2&&(l(3),d("ngIf",e.mensaje),l(2),d("formGroup",e.encuestaForm),l(4),d("ngIf",(e.nombre==null?null:e.nombre.invalid)&&(e.nombre==null?null:e.nombre.touched)),l(4),d("ngIf",(e.edad==null?null:e.edad.invalid)&&(e.edad==null?null:e.edad.touched)),l(4),d("ngIf",(e.gustoJuego==null?null:e.gustoJuego.invalid)&&(e.gustoJuego==null?null:e.gustoJuego.touched)),l(12),d("ngIf",(e.diversion==null?null:e.diversion.invalid)&&(e.diversion==null?null:e.diversion.touched)),l(5),p("Valor seleccionado: ",e.rangoValor||5,""),l(),d("disabled",e.encuestaForm.invalid))},dependencies:[D,O,V,w,M,P,N,S,j,y,F,T,A,k,I,x,_,h],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:94vh;font-family:Segoe UI,sans-serif;background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);color:#fff}.titulo[_ngcontent-%COMP%]{font-size:2.5rem;color:#00c6ff;margin-bottom:2rem;text-shadow:0 0 12px rgba(0,198,255,.6)}.encuesta-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem}.formulario[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);padding:2rem;border-radius:1rem;box-shadow:0 0 20px #00c6ff4d;max-width:600px;width:100%;display:flex;flex-direction:column;gap:1rem;font-family:Segoe UI,sans-serif;color:#fff}.formulario[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#00c6ff}.formulario[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .formulario[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #00c6ff;border-radius:5px;background-color:#ffffff0d;color:#fff}.formulario[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:.5rem;accent-color:#00c6ff}.error[_ngcontent-%COMP%]{color:#ff6b6b;font-size:.85rem}.btn-enviar[_ngcontent-%COMP%]{background-color:#00c6ff;color:#fff;padding:.75rem;border:none;border-radius:.5rem;font-weight:700;cursor:pointer;transition:background-color .3s ease}.btn-enviar[_ngcontent-%COMP%]:disabled{background-color:#666;cursor:not-allowed}.btn-enviar[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#009fd4}.rango-valor[_ngcontent-%COMP%]{color:#00c6ff;margin-bottom:1rem;font-weight:700;text-align:center}.formulario[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border-radius:5px;border:1px solid #00c6ff;background-color:#ffffff0d;color:#fff}select[_ngcontent-%COMP%]{background-color:#222;color:#eee;padding:.5rem;border-radius:5px;border:1px solid #00c6ff;appearance:none}select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#222;color:#eee}.mensaje[_ngcontent-%COMP%]{margin:10px auto;width:500px;padding:10px;border-radius:8px;text-align:center;font-weight:700;font-size:1rem}.exito[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}"]})};export{G as EncuestaComponent};
